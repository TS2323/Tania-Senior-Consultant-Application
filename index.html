<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tania — Interview Quest</title>
<style>
  :root{ --brand:#2a9d8f; --me:#2a9d8f; }
  *{box-sizing:border-box}
  html,body{
    height:100%; margin:0;
    /* Apply zoom */
    transform: scale(0.88);
    transform-origin: top left;
    width:142.857%;  /* 1 / 0.7 to fill the screen */
    height:142.857%;
  }
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#fff;background:#0b0f19;overflow:hidden}

  .page{position:relative;width:100vw;height:100vh;display:grid;grid-template-rows:1fr auto;padding:28px}
  .gradient{position:absolute;inset:0;z-index:0;pointer-events:none;background:
    radial-gradient(1200px 600px at 80% -10%, rgba(42,157,143,.3), transparent 60%),
    radial-gradient(1000px 500px at -10% 110%, rgba(99,102,241,.25), transparent 60%),
    linear-gradient(180deg, #0a0f1f 0%, #0b1220 60%, #0c1324 100%);animation:hue 20s linear infinite;mix-blend-mode:screen}
  @keyframes hue{0%{filter:hue-rotate(0)}100%{filter:hue-rotate(360deg)}}
  #bgCanvas{position:absolute;inset:0;z-index:1;pointer-events:none;opacity:.6}

  .content{display:grid;grid-template-columns:1fr 1fr;align-items:center;gap:32px;z-index:2}
  .left,.right{display:flex;justify-content:center;align-items:center}

  .avatar{width:min(60vw,460px);height:min(60vw,460px);border-radius:50%;background:rgba(255,255,255,.07);
    box-shadow:0 30px 80px rgba(0,0,0,.45),inset 0 6px 20px rgba(255,255,255,.06);display:grid;place-items:center;overflow:hidden}
  .avatar img{width:100%;height:100%;object-fit:cover;display:block}

  .bubble{max-width:min(70ch,90%);font-size:clamp(18px,1.6vw,24px);line-height:1.5;background:var(--me);color:#fff;padding:22px 24px;border-radius:20px;
    box-shadow:0 10px 30px rgba(0,0,0,.35);position:relative}
  .bubble:after{content:"";position:absolute;right:-22px;top:24px;border:12px solid transparent;border-left-color:var(--me)}

  .think-stack{display:flex;flex-direction:column;align-items:center;gap:18px}
  .thought{background:#fff;color:#0f172a;border-radius:28px;padding:22px 24px;font-size:clamp(18px,1.6vw,24px);
    box-shadow:0 10px 30px rgba(0,0,0,.35);max-width:min(64ch,90%);text-align:center}
  .dots{width:8px;height:8px;background:#fff;border-radius:50%;box-shadow:0 18px 0 0 #fff,0 36px 0 0 #fff}

  .controls{display:flex;justify-content:space-between;align-items:center;gap:12px;z-index:2}
  .progress{flex:1;height:10px;background:rgba(255,255,255,.14);border-radius:999px;overflow:hidden}
  .progress>span{display:block;height:100%;width:0;background:linear-gradient(90deg,#2a9d8f,#60a5fa);transition:width .35s ease}
  .btns{display:flex;gap:10px}
  button{padding:12px 18px;border:none;border-radius:12px;background:#ff9800;color:#fff;font-size:16px;cursor:pointer;
    box-shadow:0 8px 20px rgba(255,152,0,.35)}
  button:hover{background:#e68900} button:active{transform:translateY(1px)} button[disabled]{opacity:.5;cursor:not-allowed}
  .hint{opacity:.9;font-size:14px}

  /* Sound button */
  #soundBtn{position:fixed;right:12px;top:12px;z-index:3;background:rgba(0,0,0,.45);backdrop-filter:blur(6px);
    border:1px solid rgba(255,255,255,.15);padding:8px 12px;border-radius:10px;font-size:14px;cursor:pointer}
  #soundBtn.on{background:rgba(42,157,143,.85)}

  .fade-in{animation:fade .5s ease both} @keyframes fade{from{opacity:0}to{opacity:1}}
  .slide-left{animation:slideL .6s ease both} @keyframes slideL{from{opacity:0;transform:translateX(-30px)}to{opacity:1;transform:translateX(0)}}
  .slide-right{animation:slideR .6s ease both} @keyframes slideR{from{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}

  .final-wrap{display:grid;place-items:center;height:100%}
  .final-text{font-size:clamp(36px,6vw,88px);font-weight:800;letter-spacing:.5px;background:linear-gradient(90deg,#fff,#a5f3fc,#86efac);
    -webkit-background-clip:text;background-clip:text;color:transparent;text-align:center;text-shadow:0 8px 30px rgba(0,0,0,.35)}
</style>
</head>
<body>

<div class="gradient"></div>
<canvas id="bgCanvas"></canvas>
<div id="root"></div>

<button id="soundBtn" onclick="toggleMusic()" title="Toggle sound">🔇 Sound</button>

<!-- Audio file lives in the repo root as music.mp3 -->
<audio id="bgMusic" src="music.mp3" preload="auto" playsinline></audio>

<script>
  // ---------- DATA ----------
  const managerAvatar = { img: 'manager.png.png' };
  const myAvatar      = { img: 'me.png.png' };

  const landing = [
    `Time to hire a Senior Consultant. Am I looking for another me or someone different?…`,
    `Hmm, Tania's application is here!`
  ];

  const dialogues = [
    { q: `First things first — can she connect the dots between data and strategy?`, a: `Think of me as a translator: data speaks, I turn it into strategy. Segmentation, dashboards, enterprise tools — all roads led to shaping smarter decisions.` },
    { q: `Ideas are great, but can she execute and deliver?`, a: `Execution is my edge — every idea I touch turns into an adopted solution teams rely on 🦸‍♀️.` },
    { q: `What about influence? This role requires rallying people without a title.`, a: `I lead without a label. I rally teams, spark ideas, and get everyone moving — results follow. It's my subtle superpower.` },
    { q: `Do I see someone who creates opportunities — not waits for them?`, a: `Opportunities don't knock — I build the door. CPMR automation at Absolutdata, data repository — I turn gaps into solutions that stick.` },
    { q: `Data is useless without a story… can she make it land with leadership?`, a: `Leaders don’t read spreadsheets — they act on stories. I pick the key metrics, add context, and deliver the story that sticks.` },
    { q: `But can she build relationships across the org?`, a: `Trusted partnerships? Check. Cross-team collaboration? Check. Networking beyond the team through events and competitions? Double check. Relationships drive results.` },
    { q: `Mentorship matters — L8s need to uplift the team.`, a: `Passing on what I once received. I help juniors understand the why, practice confidently, and grow into their own roles.` },
    { q: `How does she handle challenges and setbacks?`, a: `Challenges love me — or maybe I love challenges. Either way, I keep moving, adapting, and growing. From international moves to career restarts, I tackle challenges and keep learning.` },
    { q: `L8s own risks too — can she handle that responsibility?`, a: `Risk? I own it. Dashboards, processes — checks, validations, and feedback loops keep everything in check and trusted.` },
    { q: `The future is digital and AI-driven. Is she ready for that shift?`, a: `I stay curious and informed — reading, learning, and skill-building — so AI curveballs become opportunities, not surprises.` },
    { q: `But does she have a vision?`, a: `Yes! I’ve mapped the first 90 days to hit the ground running.` },
    { q: `Strategy, execution, influence, innovation, storytelling, collaboration, mentorship, resilience, accountability, digital-first… yep, that’s everything I wanted.`, a: `Exactly. I’m ready for L8 — not just to deliver results, but to scale impact, uplift the team, and work toward CIBC’s goals.` },
    { q: `Wait… what about creativity? I'm super creative — can she match my level?`, a: `Say no more. No bragging…  I built this website during my commute on the GO train 😎.` }
  ];

  const endingPages = [
    { kind: 'manager-think', text: 'Can Tania be the next Senior Consultant in my team?' },
    { kind: 'final', text: 'Stay Tuned!' }
  ];

  const pages = [{ kind: 'landing' }];
  dialogues.forEach((d,i)=>{ pages.push({kind:'q',idx:i,text:d.q}); pages.push({kind:'a',idx:i,text:d.a}); });
  pages.push(...endingPages);

  let pageIndex = 0; const root = document.getElementById('root');

  function avatarHTML(isMe){ const cfg = isMe ? myAvatar : managerAvatar; return `<div class="avatar fade-in"><img src="${cfg.img}" alt="${isMe ? 'Tania' : 'Manager'} avatar"/></div>`; }
  function managerThinkStackHTML(lines){ const bubbles = lines.map(t=>`<div class="thought slide-left">${t}</div>`).join('<div style="height:10px"></div>'); return `<div class="think-stack">${bubbles}<div class="dots"></div>${avatarHTML(false)}</div>`; }
  function myAnswerHTML(t){ return `<div class="bubble slide-right">${t}</div>`; }
  function progressWidth(){ const total = pages.length-1; const shown = Math.max(0,pageIndex); return `${Math.min(100,Math.max(0,(shown/total)*100))}%`; }

  function render(){
    const p = pages[pageIndex]; let content = ''; const hint = 'Press N for Next • B for Back';
    if(p.kind==='landing'){
      content=`<div class="page"><div class="content" style="grid-template-columns:1fr"><div class="left">${managerThinkStackHTML(landing)}</div></div>
      <div class="controls"><div class="hint">${hint}</div><div class="progress"><span style="width:0%"></span></div>
      <div class="btns"><button disabled>⬅ Back</button><button id="startBtn">Start ➡</button></div></div></div>`;
    } else if(p.kind==='q'){
      content=`<div class="page"><div class="content" style="grid-template-columns:1fr"><div class="left">${managerThinkStackHTML([p.text])}</div></div>
      <div class="controls"><div class="hint">Q${p.idx+1} • ${hint}</div><div class="progress"><span style="width:${progressWidth()}"></span></div>
      <div class="btns"><button id="backBtn">⬅ Back</button><button id="nextBtn">Next ➡</button></div></div></div>`;
    } else if(p.kind==='a'){
      content=`<div class="page"><div class="content"><div class="left">${myAnswerHTML(p.text)}</div><div class="right">${avatarHTML(true)}</div></div>
      <div class="controls"><div class="hint">A${p.idx+1} • ${hint}</div><div class="progress"><span style="width:${progressWidth()}"></span></div>
      <div class="btns"><button id="backBtn">⬅ Back</button><button id="nextBtn">${pageIndex===pages.length-1?'Finish ✅':'Next ➡'}</button></div></div></div>`;
    } else if(p.kind==='manager-think'){
      content=`<div class="page"><div class="content" style="grid-template-columns:1fr"><div class="left">${managerThinkStackHTML([p.text])}</div></div>
      <div class="controls"><div class="hint">${hint}</div><div class="progress"><span style="width:${progressWidth()}"></span></div>
      <div class="btns"><button id="backBtn">⬅ Back</button><button id="nextBtn">Next ➡</button></div></div></div>`;
    } else {
      content=`<div class="page"><div class="final-wrap"><div class="final-text fade-in">${p.text}</div></div>
      <div class="controls"><div class="hint">${hint}</div><div class="progress"><span style="width:${progressWidth()}"></span></div>
      <div class="btns"><button id="backBtn">⬅ Back</button><button disabled>Done ✅</button></div></div></div>`;
    }
    root.innerHTML = content;

    // wire buttons
    const nextEl = document.getElementById('nextBtn');
    const backEl = document.getElementById('backBtn');
    const startEl = document.getElementById('startBtn');
    if (nextEl) nextEl.addEventListener('click', nextPage);
    if (backEl) backEl.addEventListener('click', prevPage);
    if (startEl) startEl.addEventListener('click', () => { tryStartMusic(); nextPage(); });
  }

  // ---------- AUDIO ----------
  const audioEl = document.getElementById('bgMusic');
  const soundBtn = document.getElementById('soundBtn');
  let musicStarted = false;

  function updateSoundBtn(){
    if (!audioEl.paused && !audioEl.muted) { soundBtn.textContent='🔈 Sound'; soundBtn.classList.add('on'); }
    else { soundBtn.textContent='🔇 Sound'; soundBtn.classList.remove('on'); }
  }

  async function tryStartMusic(){
    try {
      audioEl.muted = false;
      audioEl.volume = 0.35;
      await audioEl.play();
      musicStarted = true;
    } catch(e) {
      console.warn('Autoplay blocked until user gesture.', e?.name || e);
    } finally {
      updateSoundBtn();
    }
  }

  async function toggleMusic(){
    if (audioEl.paused) { await tryStartMusic(); }
    else { audioEl.pause(); updateSoundBtn(); }
  }
  window.toggleMusic = toggleMusic;

  // start on any first gesture
  window.addEventListener('pointerdown', () => tryStartMusic(), { once:true });
  window.addEventListener('keydown', () => tryStartMusic(), { once:true });

  // ---------- NAV ----------
  function nextPage(){ if(pageIndex<pages.length-1){ pageIndex++; if(pageIndex===1 && !musicStarted){ tryStartMusic(); } render(); } }
  function prevPage(){ if(pageIndex>0){ pageIndex--; render(); } }

  document.addEventListener('keydown',(e)=>{
    const k=e.key.toLowerCase();
    if(k==='n'||k==='arrowright'||k===' ') nextPage();
    if(k==='b'||k==='arrowleft') prevPage();
  });

  // ---------- BACKGROUND ----------
  const canvas = document.getElementById('bgCanvas');
  const ctx = canvas.getContext('2d');
  let W = canvas.width = window.innerWidth, H = canvas.height = window.innerHeight;
  window.addEventListener('resize',()=>{W=canvas.width=window.innerWidth;H=canvas.height=window.innerHeight;});
  const particles = Array.from({length:70},()=>({x:Math.random()*W,y:Math.random()*H,vx:(Math.random()-.5)*0.6,vy:(Math.random()-.5)*0.6,r:Math.random()*2+1}));
  function tick(){
    ctx.clearRect(0,0,W,H);
    for(let i=0;i<particles.length;i++){
      const p=particles[i];
      for(let j=i+1;j<particles.length;j++){
        const q=particles[j];
        const dx=p.x-q.x,dy=p.y-q.y,d2=dx*dx+dy*dy;
        if(d2<120*120){
          const a=1-(Math.sqrt(d2)/120);
          ctx.strokeStyle=`rgba(120,200,255,${a*0.15})`;
          ctx.beginPath();ctx.moveTo(p.x,p.y);ctx.lineTo(q.x,q.y);ctx.stroke();
        }
      }
      ctx.fillStyle='rgba(160,220,255,.9)';
      ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();
      p.x+=p.vx;p.y+=p.vy; if(p.x<0||p.x>W)p.vx*=-1; if(p.y<0||p.y>H)p.vy*=-1;
    }
    requestAnimationFrame(tick);
  }
  tick();

  // boot
  render(); updateSoundBtn();
</script>
</body>
</html>

